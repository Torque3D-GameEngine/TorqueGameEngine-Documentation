<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<!-- Mirrored from docs.garagegames.com/tge/official/content/documentation/Engine/Reference/classBlender.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Dec 2017 21:23:27 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<HEAD><SCRIPT SRC="../../../include/tutorial.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../../include/prototype.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../../include/scriptaculous.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../../include/glossaryLookUp.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../../include/referenceLookUp.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../../include/component.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../../include/componentContainer.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT>DocImagePath = "../../../index.html";</SCRIPT><link href="../../../include/tutorialStyles.css" rel="stylesheet" type="text/css" />
<link href="../../../include/tutorial.css" rel="stylesheet" type="text/css" />
<link href="../../../include/globalMainPageStyles.css" rel="stylesheet" type="text/css" />
<link href="../../../include/referenceThemeStyle.html" rel="stylesheet" type="text/css" />
<link href="../../../include/docTheme/theme.css" rel="stylesheet" type="text/css" />
<script>
   // this script chunk is to update the ToC to the current doc and expand it
   pageID = 86;
   parent.leftFrame.expandToItem('tree2', 'doc86');
   var element = parent.leftFrame.document.getElementById('doc86');
   if((element) && (element.className==parent.leftFrame.nodeClosedClass))
{
   element.className = parent.leftFrame.nodeOpenClass
}
;
</script><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Torque: Torque: Blender Class Reference</title>
<link href="torque.css" rel="stylesheet" type="text/css">
</head>
<BODY id = "BODYID" onLoad = "initComponent()"  bgcolor="#ffffff" text="#000000" link="#333399" alink="#9999ff" vlink="#000066">
<div align="center">

<table width=700 cellspacing=0 cellpadding=10 border=0 bgcolor="#ffffff" summary="">
<tr><td align='right'>
<a href='index.html'><img src="tge_banner.gif" alt="torque" align="left" border=0></a>
<b>Torque Game Engine Documentation</b><br>
<small>TGE Version 1.5.2</small>
</td></tr>

<tr><td>

<table width='100%' height=24 border=0 cellpadding=0 cellspacing=0>
<tr height=24><td nowrap class="menu" align='center'>

<a href="index.html">Torque Home</a> &nbsp;
<a href="hierarchy.html">Class Hierarchy</a> &nbsp;
<a href="annotated.html">Data Structures</a> &nbsp;
<!--a href="functions.php">Data Fields</a -->
<a href="namespaces.html">Namespaces</a> &nbsp;
<a href="namespacemembers.html">Namespace Members</a> &nbsp;
<a href="files.html">File List</a> &nbsp;
<a href="globals.html">Globals</a>

</td></tr>
</table>

</td></tr>
<tr><td>

<!-- Generated by Doxygen 1.5.2 -->
<h1><a name = "HeaderLink0"></a>Blender Class Reference</h1><!-- doxytag: class="Blender" --><code>#include &lt;blender.h&gt;</code>
<p>
<hr><a name="_details"></a><h2><a name = "HeaderLink1"></a>Detailed Description</h2>
This MODULE contains class <a class="el" href="classBlender.html" title="This MODULE contains class Blender.">Blender</a>. 
<p>
<a class="el" href="classBlender.html" title="This MODULE contains class Blender.">Blender</a> has a set of textures and an ALPHA-VALUE MAP, and exposes via the method <a class="el" href="classBlender.html#1d5ef5c0e3a0a7549bdf4ae9ed6f15a1" title="Blends into 5551 format.">Blender::blend</a>(X, Y, LEVEL, LIGHT-MAP, DESTINATION-MIP-MAP) the facility to "blend" its textures into DESTINATION-MIP-MAP using X &amp; Y as an offset into the ALPHA-VALUE MAP and the LIGHT-MAP.<p>
The LANDSCAPE of the MISSION is a single (mile square?) TILE repeated infinitely. The TILE is a SQUARES_PER_TILE_EDGE (currently 256) by SQUARES_PER_TILE_EDGE Row-Major array of SQUARES.<p>
A TEXEL in this context is a single element of a TEXTURE, an RGB triple or RGBA quad--what would be thought of as a PIXEL were it mapped one-to-one to the display device.<p>
A LUMEL is similarly the smallest unit of a LIGHT-MAP. It consists of an RGB triple (there doesn't seem to be any special specular code, etc.) which is applied to the blended texel.<p>
And an ALPHEL is similarly the smallest unit of a TEXTURE-ALPHA-MAP. Each TEXEL of the blended (destination) texture is formed from the corresponding TEXELs of N source TEXTUREs. The ALPHELs specify what part of the destination TEXEL coems from each source TEXEL.<p>
The <a class="el" href="classBlender.html" title="This MODULE contains class Blender.">Blender</a> is created with a fixed NUMBER OF MIPMAP LEVELS, a fixed NUMBER OF SOURCE TEXTURES, and an ALPHA-VALUE MAP. The ALPHA-VALUE MAP is passed by reference (I don't know if it can change interactively). The maximum usable value for NUMBER OF MIPMAP LEVELS is MAX_MIPMAP_LEVELS (currently 4). I don't think anything bad happens if this is exceeded.<p>
Each SOURCE TEXTURE is then added to the <a class="el" href="classBlender.html" title="This MODULE contains class Blender.">Blender</a> with addSourceTexture, by index number, specifying the MIP-MAP for the texture by value.<p>
A MIP-MAP is an array of NUMBER OF MIPMAP LEVELS square BIT-MAPs in progressively lower resolutions. The highest resolution BIT-MAP must be TEXELS_PER_SOURCE_EDGE (currently 256) TEXELS on each side. Each successive BIT-MAP in the MIP-MAP must be 1/2 the resolution of the preceding, or 1/4 the size. Each BIT-MAP is in Row-Major 3*8-bit RGB format.<p>
<a class="el" href="classBlender.html" title="This MODULE contains class Blender.">Blender</a> stores the value of the MIP-MAPs in an internal format, based on SQUARES. Each MIP-MAP is stored as NUMBER OF MIPMAP LEVELS consecutive levels of descending resolution. Each level of the MIP-MAP is stored as SQUARES_PER_MIPMAP (currently 64) consecutive SQUAREs in Row-Major form. Each Square is stored as consecutive 32-bit 0GBR TEXELs in Row-Major form (the 0 in the format means that those bits are waste). Please note that on LITTLE_ENDIAN platforms the 32-bit 0BGR is identical in representation to 4*8-bit RGB0, however on BIG_ENDIAN platforms it is 4*8-bit 0BGR.<p>
The ALPHA-VALUE MAP consists of NUMBER OF SOURCE TEXTURES individual TEXTURE-ALPHA-MAPs. Individual TEXTURE-ALPHA-MAPs consist of a SQUARES_PER_TILE_EDGE by SQUARES_PER_TILE_EDGE Row-Major array of 8-bit alpha blending values. The original code only used the high six bits of each 8-bit value, but I am using the whole thing. I don't know if the lower two bits even have meaningful values, but since they are the low-order two bits I don't much care; the worst it can do is introduce a charming randomness. The ALPHELs are 8-bit fixed point, implicitly divided by 256. It is implied by the code that for each offset into the TEXTURE-ALPHA-MAPs, the sum of the ALPHELs at that offset across all of the TEXTURE-ALPHA-MAPs is less than 1. I don't know where this is enforced.<p>
Since the resolution of the ALPHA-MAP is one ALPHEL per SQUARE, the ALPHELs are interpolated across the SQUARE when the terrains are being blended. Each ALPHEL is the ALPHA-VALUE of the lower-left corner of the corresponding square. In order to compute the unlit blended texture of a SQUARE (each SQUARE is processed separately), for each SOURCE TEXTURE the ALPHELs at the four corners of the SQUARE are taken and interpolated smoothly across the square.<p>
<b>How <a class="el" href="classBlender.html#1d5ef5c0e3a0a7549bdf4ae9ed6f15a1" title="Blends into 5551 format.">Blender::blend()</a> does its thing:</b><p>
Blend() blends an array of SQUAREs of the TILE and a LIGHT-MAP into an 8-level MIP-MAP of from 128x128 to 1x1 6-bit RGBA-5551 TEXELs per BIT-MAP. The location in the TILE to blend from is specified by the X,Y co-ordinate of the lower-left corner and the length in SQUAREs of a side of the square to be blended. The length of a side of the square to be blended in SQUAREs combined with the fixed 128x128 size of the highest resolution destination BIT-MAP implies a umber of TEXELs per SQUARE.<p>
Blend() blends the desired SQUAREs into the highest resolution texture of the MIP-MAP and generates the rest of the MIP-MAP from the first one (this seems like it should be an independent utility).<p>
Blend processes each SQUARE in turn, using the Terrain Grid to choose which SOURCE TEXTUREs apply to that square, and the ALPHA-MAPs for that SQUARE to determine the contribution of individual SOURCE TEXTURE's TEXELs. This is a simple multiplication of TEXEL values by the interpolated ALPHELs.<p>
It then applies the light map by sub-dividing the SQUARE into LUMELS_PER_SQUARE sub-squares and interpolating LUMEL values across the sub-square in a manner exactly similar to the ALPHA-MAP. Each LUMEL is an RGB triple, and each component of the LUMEL is multipled by the corresponding component of the unlit texture to create the lit texture.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Warning, this code is ugly, even though it is pretty well documented. Flee! </dd></dl>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2><a name = "HeaderLink2"></a>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBlender.html#555b77859eb5f74d9fdef15f360a0fcc">Blender</a> (<a class="el" href="GLWinExtFunc_8h.html#61569f2965b7a369eb10b6d75d410d11">int</a> num_bmp_types, <a class="el" href="GLWinExtFunc_8h.html#61569f2965b7a369eb10b6d75d410d11">int</a> mips_per_bmp, <a class="el" href="typesX86UNIX_8h.html#3cb25ca6f51f003950f9625ff05536fc">U8</a> **alphadata)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#555b77859eb5f74d9fdef15f360a0fcc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBlender.html#b0b437558c1540cb8c33cb1a70a911c6">~Blender</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="GLCoreFunc_8h.html#c9c84fa68bbad002983e35ce3663c686">void</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBlender.html#1d5ef5c0e3a0a7549bdf4ae9ed6f15a1">blend</a> (<a class="el" href="GLWinExtFunc_8h.html#61569f2965b7a369eb10b6d75d410d11">int</a> <a class="el" href="GLCoreFunc_8h.html#e2f0c3032210238aea3c32f3d1a6ee19">x</a>, <a class="el" href="GLWinExtFunc_8h.html#61569f2965b7a369eb10b6d75d410d11">int</a> <a class="el" href="GLCoreFunc_8h.html#a579d2d28e629b057390b88cbfcbe7f4">y</a>, <a class="el" href="GLWinExtFunc_8h.html#61569f2965b7a369eb10b6d75d410d11">int</a> <a class="el" href="GLExtFunc_8h.html#13d630f684b255aa7def9bd6ef8fe5ca">level</a>, const <a class="el" href="typesX86UNIX_8h.html#df928e51a60dba0df29d615401cc55a8">U16</a> *lightmap, <a class="el" href="typesX86UNIX_8h.html#df928e51a60dba0df29d615401cc55a8">U16</a> **destmips)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Blends into 5551 format.  <a href="#1d5ef5c0e3a0a7549bdf4ae9ed6f15a1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="GLCoreFunc_8h.html#c9c84fa68bbad002983e35ce3663c686">void</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBlender.html#87d4421840d0a6c022950baf16234426">addSourceTexture</a> (<a class="el" href="GLWinExtFunc_8h.html#61569f2965b7a369eb10b6d75d410d11">int</a> bmp_type, const <a class="el" href="typesX86UNIX_8h.html#3cb25ca6f51f003950f9625ff05536fc">U8</a> **bmps)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a texture to use in blending.  <a href="#87d4421840d0a6c022950baf16234426"></a><br></td></tr>
<tr><td colspan="2"><br><h2><a name = "HeaderLink3"></a>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="GLCoreFunc_8h.html#c9c84fa68bbad002983e35ce3663c686">void</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBlender.html#e9b2c2f29414321464c1ac9102df0905">blend_c</a> (<a class="el" href="GLWinExtFunc_8h.html#61569f2965b7a369eb10b6d75d410d11">int</a> <a class="el" href="GLCoreFunc_8h.html#e2f0c3032210238aea3c32f3d1a6ee19">x</a>, <a class="el" href="GLWinExtFunc_8h.html#61569f2965b7a369eb10b6d75d410d11">int</a> <a class="el" href="GLCoreFunc_8h.html#a579d2d28e629b057390b88cbfcbe7f4">y</a>, <a class="el" href="GLWinExtFunc_8h.html#61569f2965b7a369eb10b6d75d410d11">int</a> <a class="el" href="GLExtFunc_8h.html#13d630f684b255aa7def9bd6ef8fe5ca">level</a>, const <a class="el" href="typesX86UNIX_8h.html#df928e51a60dba0df29d615401cc55a8">U16</a> *lightmap, <a class="el" href="typesX86UNIX_8h.html#df928e51a60dba0df29d615401cc55a8">U16</a> **destmips)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">C version of the blender.  <a href="#e9b2c2f29414321464c1ac9102df0905"></a><br></td></tr>
<tr><td colspan="2"><br><h2><a name = "HeaderLink4"></a>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="types_8h.html#c3df7cf3c8cb172a588adec881447d68">U32</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBlender.html#ddbfa142137605a62cb23fc2f5baf5f1">bmp_alloc_ptr</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pointer to big buffer of source textures and mipmaps.  <a href="#ddbfa142137605a62cb23fc2f5baf5f1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="types_8h.html#c3df7cf3c8cb172a588adec881447d68">U32</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBlender.html#f04db947acb8486c96a623ca9261c70b">blendbuffer</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">One square buffer used for blending...  <a href="#f04db947acb8486c96a623ca9261c70b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="types_8h.html#c3df7cf3c8cb172a588adec881447d68">U32</a> **&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBlender.html#3e0503a7329571358de85e6304ff1eb3">bmpdata</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">List of pointers into bmp buffer.  <a href="#3e0503a7329571358de85e6304ff1eb3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="typesX86UNIX_8h.html#3cb25ca6f51f003950f9625ff05536fc">U8</a> **&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBlender.html#646d0395c42541155427199f32f9adc6">alpha_data</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">List of pointers to alpha data for the bmp types.  <a href="#646d0395c42541155427199f32f9adc6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="GLWinExtFunc_8h.html#61569f2965b7a369eb10b6d75d410d11">int</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBlender.html#872b12d8079dd95951230180fb6ca7b8">num_src_bmps</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of bmp types.  <a href="#872b12d8079dd95951230180fb6ca7b8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="GLWinExtFunc_8h.html#61569f2965b7a369eb10b6d75d410d11">int</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBlender.html#1723e8a270954f167eadebf6d4e5d581">num_mip_levels</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Mip levels (including top detail) for each bmp type.  <a href="#1723e8a270954f167eadebf6d4e5d581"></a><br></td></tr>
</table>
<hr><h2><a name = "HeaderLink5"></a>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="555b77859eb5f74d9fdef15f360a0fcc"></a><!-- doxytag: member="Blender::Blender" ref="555b77859eb5f74d9fdef15f360a0fcc" args="(int num_bmp_types, int mips_per_bmp, U8 **alphadata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Blender::Blender           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="GLWinExtFunc_8h.html#61569f2965b7a369eb10b6d75d410d11">int</a>&nbsp;</td>
          <td class="paramname"> <em>num_bmp_types</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="GLWinExtFunc_8h.html#61569f2965b7a369eb10b6d75d410d11">int</a>&nbsp;</td>
          <td class="paramname"> <em>mips_per_bmp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="typesX86UNIX_8h.html#3cb25ca6f51f003950f9625ff05536fc">U8</a> **&nbsp;</td>
          <td class="paramname"> <em>alphadata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>num_bmp_types</em>&nbsp;</td><td>Number of textures we are blending. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mips_per_bmp</em>&nbsp;</td><td>This should include top level (always &gt;= 1). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>alphadata</em>&nbsp;</td><td>This is an 8 bit 256x256 bitmap. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="b0b437558c1540cb8c33cb1a70a911c6"></a><!-- doxytag: member="Blender::~Blender" ref="b0b437558c1540cb8c33cb1a70a911c6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Blender::~Blender           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2><a name = "HeaderLink6"></a>Member Function Documentation</h2>
<a class="anchor" name="e9b2c2f29414321464c1ac9102df0905"></a><!-- doxytag: member="Blender::blend_c" ref="e9b2c2f29414321464c1ac9102df0905" args="(int x, int y, int level, const U16 *lightmap, U16 **destmips)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="GLCoreFunc_8h.html#c9c84fa68bbad002983e35ce3663c686">void</a> Blender::blend_c           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="GLWinExtFunc_8h.html#61569f2965b7a369eb10b6d75d410d11">int</a>&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="GLWinExtFunc_8h.html#61569f2965b7a369eb10b6d75d410d11">int</a>&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="GLWinExtFunc_8h.html#61569f2965b7a369eb10b6d75d410d11">int</a>&nbsp;</td>
          <td class="paramname"> <em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="typesX86UNIX_8h.html#df928e51a60dba0df29d615401cc55a8">U16</a> *&nbsp;</td>
          <td class="paramname"> <em>lightmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="typesX86UNIX_8h.html#df928e51a60dba0df29d615401cc55a8">U16</a> **&nbsp;</td>
          <td class="paramname"> <em>destmips</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
C version of the blender. 
<p>

</div>
</div><p>
<a class="anchor" name="1d5ef5c0e3a0a7549bdf4ae9ed6f15a1"></a><!-- doxytag: member="Blender::blend" ref="1d5ef5c0e3a0a7549bdf4ae9ed6f15a1" args="(int x, int y, int level, const U16 *lightmap, U16 **destmips)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="GLCoreFunc_8h.html#c9c84fa68bbad002983e35ce3663c686">void</a> Blender::blend           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="GLWinExtFunc_8h.html#61569f2965b7a369eb10b6d75d410d11">int</a>&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="GLWinExtFunc_8h.html#61569f2965b7a369eb10b6d75d410d11">int</a>&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="GLWinExtFunc_8h.html#61569f2965b7a369eb10b6d75d410d11">int</a>&nbsp;</td>
          <td class="paramname"> <em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="typesX86UNIX_8h.html#df928e51a60dba0df29d615401cc55a8">U16</a> *&nbsp;</td>
          <td class="paramname"> <em>lightmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="typesX86UNIX_8h.html#df928e51a60dba0df29d615401cc55a8">U16</a> **&nbsp;</td>
          <td class="paramname"> <em>destmips</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Blends into 5551 format. 
<p>
X and Y are in blocks (same resolution as alpha table, i.e. at high detail, there are 4x4 blocks covered by the 128x128 destination bmp.)<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>Position in blocks. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>y</em>&nbsp;</td><td>Position in blocks. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>lightmap</em>&nbsp;</td><td>A 16 bit 512x512 bitmap. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>level</em>&nbsp;</td><td>What mipmapping level to blend to? </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>destmips</em>&nbsp;</td><td>This is an array of pointers to the bitmap and it's mips to be filled in by this function </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="87d4421840d0a6c022950baf16234426"></a><!-- doxytag: member="Blender::addSourceTexture" ref="87d4421840d0a6c022950baf16234426" args="(int bmp_type, const U8 **bmps)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="GLCoreFunc_8h.html#c9c84fa68bbad002983e35ce3663c686">void</a> Blender::addSourceTexture           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="GLWinExtFunc_8h.html#61569f2965b7a369eb10b6d75d410d11">int</a>&nbsp;</td>
          <td class="paramname"> <em>bmp_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="typesX86UNIX_8h.html#3cb25ca6f51f003950f9625ff05536fc">U8</a> **&nbsp;</td>
          <td class="paramname"> <em>bmps</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a texture to use in blending. 
<p>
Call this once per bmp type. It copies the bmp into it's own format, so you can then delete your versions of the bmp and mips.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>bmp_type</em>&nbsp;</td><td>Type of the bitmap. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bmps</em>&nbsp;</td><td>This is an array of pointers to the bitmap and its mipmaps, highest detail first. Should be in 24bit format. </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2><a name = "HeaderLink7"></a>Field Documentation</h2>
<a class="anchor" name="ddbfa142137605a62cb23fc2f5baf5f1"></a><!-- doxytag: member="Blender::bmp_alloc_ptr" ref="ddbfa142137605a62cb23fc2f5baf5f1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#c3df7cf3c8cb172a588adec881447d68">U32</a>* <a class="el" href="classBlender.html#ddbfa142137605a62cb23fc2f5baf5f1">Blender::bmp_alloc_ptr</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pointer to big buffer of source textures and mipmaps. 
<p>

</div>
</div><p>
<a class="anchor" name="f04db947acb8486c96a623ca9261c70b"></a><!-- doxytag: member="Blender::blendbuffer" ref="f04db947acb8486c96a623ca9261c70b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#c3df7cf3c8cb172a588adec881447d68">U32</a>* <a class="el" href="classBlender.html#f04db947acb8486c96a623ca9261c70b">Blender::blendbuffer</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
One square buffer used for blending... 
<p>

</div>
</div><p>
<a class="anchor" name="3e0503a7329571358de85e6304ff1eb3"></a><!-- doxytag: member="Blender::bmpdata" ref="3e0503a7329571358de85e6304ff1eb3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#c3df7cf3c8cb172a588adec881447d68">U32</a>** <a class="el" href="classBlender.html#3e0503a7329571358de85e6304ff1eb3">Blender::bmpdata</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
List of pointers into bmp buffer. 
<p>
Grouped by mip level, so first X pointers are textures 0-X, mip 0. 
</div>
</div><p>
<a class="anchor" name="646d0395c42541155427199f32f9adc6"></a><!-- doxytag: member="Blender::alpha_data" ref="646d0395c42541155427199f32f9adc6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="typesX86UNIX_8h.html#3cb25ca6f51f003950f9625ff05536fc">U8</a>** <a class="el" href="classBlender.html#646d0395c42541155427199f32f9adc6">Blender::alpha_data</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
List of pointers to alpha data for the bmp types. 
<p>

</div>
</div><p>
<a class="anchor" name="872b12d8079dd95951230180fb6ca7b8"></a><!-- doxytag: member="Blender::num_src_bmps" ref="872b12d8079dd95951230180fb6ca7b8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="GLWinExtFunc_8h.html#61569f2965b7a369eb10b6d75d410d11">int</a> <a class="el" href="classBlender.html#872b12d8079dd95951230180fb6ca7b8">Blender::num_src_bmps</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Number of bmp types. 
<p>

</div>
</div><p>
<a class="anchor" name="1723e8a270954f167eadebf6d4e5d581"></a><!-- doxytag: member="Blender::num_mip_levels" ref="1723e8a270954f167eadebf6d4e5d581" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="GLWinExtFunc_8h.html#61569f2965b7a369eb10b6d75d410d11">int</a> <a class="el" href="classBlender.html#1723e8a270954f167eadebf6d4e5d581">Blender::num_mip_levels</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Mip levels (including top detail) for each bmp type. 
<p>

</div>
</div><p>
  </td>
</tr>
</table>

<br>
<br>
<hr width='50%' height=1 color=black>
<b>All Rights Reserved GarageGames.com, Inc. 1999-2005</b><br>
<small>Auto-magically Generated with <a href='http://www.doxygen.org/' target='_blank'>Doxygen</a></small>

</div>
<div class="footer">   <span class="copy">&copy; <a href="http://www.garagegames.com/">GarageGames.com</a></span>   <a href="../../../content_welcome.html" target="">Home</a>   <a href="#">Back to Top</a></div></body>

<!-- Mirrored from docs.garagegames.com/tge/official/content/documentation/Engine/Reference/classBlender.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Dec 2017 21:23:28 GMT -->
</html>
