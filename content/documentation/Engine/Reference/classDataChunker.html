<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<!-- Mirrored from docs.garagegames.com/tge/official/content/documentation/Engine/Reference/classDataChunker.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Dec 2017 21:25:54 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<HEAD><SCRIPT SRC="../../../include/tutorial.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../../include/prototype.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../../include/scriptaculous.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../../include/glossaryLookUp.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../../include/referenceLookUp.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../../include/component.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../../include/componentContainer.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT>DocImagePath = "../../../index.html";</SCRIPT><link href="../../../include/tutorialStyles.css" rel="stylesheet" type="text/css" />
<link href="../../../include/tutorial.css" rel="stylesheet" type="text/css" />
<link href="../../../include/globalMainPageStyles.css" rel="stylesheet" type="text/css" />
<link href="../../../include/referenceThemeStyle.html" rel="stylesheet" type="text/css" />
<link href="../../../include/docTheme/theme.css" rel="stylesheet" type="text/css" />
<script>
   // this script chunk is to update the ToC to the current doc and expand it
   pageID = 129;
   parent.leftFrame.expandToItem('tree2', 'doc129');
   var element = parent.leftFrame.document.getElementById('doc129');
   if((element) && (element.className==parent.leftFrame.nodeClosedClass))
{
   element.className = parent.leftFrame.nodeOpenClass
}
;
</script><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Torque: Torque: DataChunker Class Reference</title>
<link href="torque.css" rel="stylesheet" type="text/css">
</head>
<BODY id = "BODYID" onLoad = "initComponent()"  bgcolor="#ffffff" text="#000000" link="#333399" alink="#9999ff" vlink="#000066">
<div align="center">

<table width=700 cellspacing=0 cellpadding=10 border=0 bgcolor="#ffffff" summary="">
<tr><td align='right'>
<a href='index.html'><img src="tge_banner.gif" alt="torque" align="left" border=0></a>
<b>Torque Game Engine Documentation</b><br>
<small>TGE Version 1.5.2</small>
</td></tr>

<tr><td>

<table width='100%' height=24 border=0 cellpadding=0 cellspacing=0>
<tr height=24><td nowrap class="menu" align='center'>

<a href="index.html">Torque Home</a> &nbsp;
<a href="hierarchy.html">Class Hierarchy</a> &nbsp;
<a href="annotated.html">Data Structures</a> &nbsp;
<!--a href="functions.php">Data Fields</a -->
<a href="namespaces.html">Namespaces</a> &nbsp;
<a href="namespacemembers.html">Namespace Members</a> &nbsp;
<a href="files.html">File List</a> &nbsp;
<a href="globals.html">Globals</a>

</td></tr>
</table>

</td></tr>
<tr><td>

<!-- Generated by Doxygen 1.5.2 -->
<h1><a name = "HeaderLink0"></a>DataChunker Class Reference</h1><!-- doxytag: class="DataChunker" --><code>#include &lt;dataChunker.h&gt;</code>
<p>
Inheritance diagram for DataChunker:<p><center><img src="classDataChunker__inherit__graph.png" border="0" usemap="#DataChunker__inherit__map" alt="Inheritance graph"></center>
<map name="DataChunker__inherit__map">
<area shape="rect" href="classChunker.html" title="Chunker\&lt; T \&gt;" alt="" coords="189,83,293,109"><area shape="rect" href="classChunker.html" title="Chunker\&lt; SVNode \&gt;" alt="" coords="5,173,149,200"><area shape="rect" href="classChunker.html" title="Chunker\&lt; SVPoly \&gt;" alt="" coords="173,173,312,200"><area shape="rect" href="classFreeListChunker.html" title="FreeListChunker\&lt; T \&gt;" alt="" coords="419,83,571,109"><area shape="rect" href="classFreeListChunker.html" title="FreeListChunker\&lt; BufInf \&gt;" alt="" coords="336,173,515,200"><area shape="rect" href="classFreeListChunker.html" title="FreeListChunker\&lt; NetEventNote \&gt;" alt="" coords="539,173,765,200"><area shape="rect" title="\&lt; SVNode \&gt;" alt="" coords="208,105,216,113"><area shape="rect" title="\&lt; SVNode \&gt;" alt="" coords="95,169,103,177"><area shape="rect" title="\&lt; SVPoly \&gt;" alt="" coords="237,105,245,113"><area shape="rect" title="\&lt; SVPoly \&gt;" alt="" coords="239,169,247,177"><area shape="rect" title="\&lt; BufInf \&gt;" alt="" coords="456,105,464,113"><area shape="rect" title="\&lt; BufInf \&gt;" alt="" coords="420,169,428,177"><area shape="rect" title="\&lt; NetEventNote \&gt;" alt="" coords="495,105,503,113"><area shape="rect" title="\&lt; NetEventNote \&gt;" alt="" coords="583,169,591,177"></map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><hr><a name="_details"></a><h2><a name = "HeaderLink1"></a>Detailed Description</h2>
Implements a chunked data allocater. 
<p>
Calling new/malloc all the time is a time consuming operation. Therefore, we provide the <a class="el" href="classDataChunker.html" title="Implements a chunked data allocater.">DataChunker</a>, which allocates memory in blockss of chunkSize (by default 16k, see ChunkSize, though it can be set in the constructor), then doles it out as requested, in chunks of up to chunkSize in size.<p>
It will assert if you try to get more than ChunkSize bytes at a time, and it deals with the logic of allocating new blocks and giving out word-aligned chunks.<p>
Note that new/free/realloc WILL NOT WORK on memory gotten from the <a class="el" href="classDataChunker.html" title="Implements a chunked data allocater.">DataChunker</a>. This also only grows (you can call freeBlocks to deallocate and reset things). 
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2><a name = "HeaderLink2"></a>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="classDataChunker.html#3256bd9071d9002598b4bd74fb3f2e9a536630bb06ed00f89cfb97eadca9c7c4">ChunkSize</a> =  16376
 }</td></tr>

<tr><td colspan="2"><br><h2><a name = "HeaderLink3"></a>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="GLCoreFunc_8h.html#c9c84fa68bbad002983e35ce3663c686">void</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataChunker.html#a2b4ea6cb055783bf929a8c3d045b6a4">alloc</a> (<a class="el" href="typesX86UNIX_8h.html#57a2244776e01ad620c556de58eb7880">S32</a> <a class="el" href="GLCoreFunc_8h.html#571f59d80d276c8a12763f487a753584">size</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a pointer to a chunk of memory from a pre-allocated block.  <a href="#a2b4ea6cb055783bf929a8c3d045b6a4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="GLCoreFunc_8h.html#c9c84fa68bbad002983e35ce3663c686">void</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataChunker.html#e45f896a3a652c2d8b2566d363f31f61">freeBlocks</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free all allocated memory blocks.  <a href="#e45f896a3a652c2d8b2566d363f31f61"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataChunker.html#fd20e1ef0ccc6b0727fd5a3f2f4e56f8">DataChunker</a> (<a class="el" href="typesX86UNIX_8h.html#57a2244776e01ad620c556de58eb7880">S32</a> <a class="el" href="GLCoreFunc_8h.html#571f59d80d276c8a12763f487a753584">size</a>=ChunkSize)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize using blocks of a given size.  <a href="#fd20e1ef0ccc6b0727fd5a3f2f4e56f8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataChunker.html#be967e0513f83e1f5779590718d12293">~DataChunker</a> ()</td></tr>

<tr><td colspan="2"><br><h2><a name = "HeaderLink4"></a>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structDataChunker_1_1DataBlock.html">DataBlock</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataChunker.html#8dd9271d69f0b840a2776a1800c37b20">curBlock</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="typesX86UNIX_8h.html#57a2244776e01ad620c556de58eb7880">S32</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataChunker.html#8ccd58e9e515e70046a3e775aa13912c">chunkSize</a></td></tr>

<tr><td colspan="2"><br><h2><a name = "HeaderLink5"></a>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDataChunker_1_1DataBlock.html">DataBlock</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Block of allocated memory.  <a href="structDataChunker_1_1DataBlock.html#_details">More...</a><br></td></tr>
</table>
<hr><h2><a name = "HeaderLink6"></a>Member Enumeration Documentation</h2>
<a class="anchor" name="3256bd9071d9002598b4bd74fb3f2e9a"></a><!-- doxytag: member="DataChunker::@17" ref="3256bd9071d9002598b4bd74fb3f2e9a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="3256bd9071d9002598b4bd74fb3f2e9a536630bb06ed00f89cfb97eadca9c7c4"></a><!-- doxytag: member="ChunkSize" ref="3256bd9071d9002598b4bd74fb3f2e9a536630bb06ed00f89cfb97eadca9c7c4" args="" -->ChunkSize</em>&nbsp;</td><td>
Default size for chunks. </td></tr>
</table>
</dl>

</div>
</div><p>
<hr><h2><a name = "HeaderLink7"></a>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="fd20e1ef0ccc6b0727fd5a3f2f4e56f8"></a><!-- doxytag: member="DataChunker::DataChunker" ref="fd20e1ef0ccc6b0727fd5a3f2f4e56f8" args="(S32 size=ChunkSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DataChunker::DataChunker           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="typesX86UNIX_8h.html#57a2244776e01ad620c556de58eb7880">S32</a>&nbsp;</td>
          <td class="paramname"> <em>size</em> = <code>ChunkSize</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize using blocks of a given size. 
<p>
One new block is allocated at constructor-time.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Size in bytes of the space to allocate for each block. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="be967e0513f83e1f5779590718d12293"></a><!-- doxytag: member="DataChunker::~DataChunker" ref="be967e0513f83e1f5779590718d12293" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DataChunker::~DataChunker           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2><a name = "HeaderLink8"></a>Member Function Documentation</h2>
<a class="anchor" name="a2b4ea6cb055783bf929a8c3d045b6a4"></a><!-- doxytag: member="DataChunker::alloc" ref="a2b4ea6cb055783bf929a8c3d045b6a4" args="(S32 size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="GLCoreFunc_8h.html#c9c84fa68bbad002983e35ce3663c686">void</a>* DataChunker::alloc           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="typesX86UNIX_8h.html#57a2244776e01ad620c556de58eb7880">S32</a>&nbsp;</td>
          <td class="paramname"> <em>size</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return a pointer to a chunk of memory from a pre-allocated block. 
<p>
This memory goes away when you call freeBlocks.<p>
This memory is word-aligned. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Size of chunk to return. This must be less than chunkSize or else an assertion will occur. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="e45f896a3a652c2d8b2566d363f31f61"></a><!-- doxytag: member="DataChunker::freeBlocks" ref="e45f896a3a652c2d8b2566d363f31f61" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="GLCoreFunc_8h.html#c9c84fa68bbad002983e35ce3663c686">void</a> DataChunker::freeBlocks           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Free all allocated memory blocks. 
<p>
This invalidates all pointers returned from <a class="el" href="classDataChunker.html#a2b4ea6cb055783bf929a8c3d045b6a4" title="Return a pointer to a chunk of memory from a pre-allocated block.">alloc()</a>. 
<p>
Reimplemented in <a class="el" href="classFreeListChunker.html#5dd32d3ced56736a56b423fde9be40bc">FreeListChunker&lt; T &gt;</a>, <a class="el" href="classFreeListChunker.html#5dd32d3ced56736a56b423fde9be40bc">FreeListChunker&lt; BufInf &gt;</a>, and <a class="el" href="classFreeListChunker.html#5dd32d3ced56736a56b423fde9be40bc">FreeListChunker&lt; NetEventNote &gt;</a>.
</div>
</div><p>
<hr><h2><a name = "HeaderLink9"></a>Field Documentation</h2>
<a class="anchor" name="8dd9271d69f0b840a2776a1800c37b20"></a><!-- doxytag: member="DataChunker::curBlock" ref="8dd9271d69f0b840a2776a1800c37b20" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structDataChunker_1_1DataBlock.html">DataBlock</a>* <a class="el" href="classDataChunker.html#8dd9271d69f0b840a2776a1800c37b20">DataChunker::curBlock</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="8ccd58e9e515e70046a3e775aa13912c"></a><!-- doxytag: member="DataChunker::chunkSize" ref="8ccd58e9e515e70046a3e775aa13912c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="typesX86UNIX_8h.html#57a2244776e01ad620c556de58eb7880">S32</a> <a class="el" href="classDataChunker.html#8ccd58e9e515e70046a3e775aa13912c">DataChunker::chunkSize</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
  </td>
</tr>
</table>

<br>
<br>
<hr width='50%' height=1 color=black>
<b>All Rights Reserved GarageGames.com, Inc. 1999-2005</b><br>
<small>Auto-magically Generated with <a href='http://www.doxygen.org/' target='_blank'>Doxygen</a></small>

</div>
<div class="footer">   <span class="copy">&copy; <a href="http://www.garagegames.com/">GarageGames.com</a></span>   <a href="../../../content_welcome.html" target="">Home</a>   <a href="#">Back to Top</a></div></body>

<!-- Mirrored from docs.garagegames.com/tge/official/content/documentation/Engine/Reference/classDataChunker.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Dec 2017 21:25:54 GMT -->
</html>
