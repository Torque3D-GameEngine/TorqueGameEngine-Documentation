<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<!-- Mirrored from docs.garagegames.com/tge/official/content/documentation/Engine/Reference/ControlFlow.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Dec 2017 21:22:22 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<HEAD><SCRIPT SRC="../../../include/tutorial.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../../include/prototype.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../../include/scriptaculous.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../../include/glossaryLookUp.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../../include/referenceLookUp.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../../include/component.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../../include/componentContainer.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT>DocImagePath = "../../../index.html";</SCRIPT><link href="../../../include/tutorialStyles.css" rel="stylesheet" type="text/css" />
<link href="../../../include/tutorial.css" rel="stylesheet" type="text/css" />
<link href="../../../include/globalMainPageStyles.css" rel="stylesheet" type="text/css" />
<link href="../../../include/referenceThemeStyle.html" rel="stylesheet" type="text/css" />
<link href="../../../include/docTheme/theme.css" rel="stylesheet" type="text/css" />
<script>
   // this script chunk is to update the ToC to the current doc and expand it
   pageID = 587;
   parent.leftFrame.expandToItem('tree2', 'doc587');
   var element = parent.leftFrame.document.getElementById('doc587');
   if((element) && (element.className==parent.leftFrame.nodeClosedClass))
{
   element.className = parent.leftFrame.nodeOpenClass
}
;
</script><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Torque: Torque: Basic Control Flow</title>
<link href="torque.css" rel="stylesheet" type="text/css">
</head>
<BODY id = "BODYID" onLoad = "initComponent()"  bgcolor="#ffffff" text="#000000" link="#333399" alink="#9999ff" vlink="#000066">
<div align="center">

<table width=700 cellspacing=0 cellpadding=10 border=0 bgcolor="#ffffff" summary="">
<tr><td align='right'>
<a href='index.html'><img src="tge_banner.gif" alt="torque" align="left" border=0></a>
<b>Torque Game Engine Documentation</b><br>
<small>TGE Version 1.5.2</small>
</td></tr>

<tr><td>

<table width='100%' height=24 border=0 cellpadding=0 cellspacing=0>
<tr height=24><td nowrap class="menu" align='center'>

<a href="index.html">Torque Home</a> &nbsp;
<a href="hierarchy.html">Class Hierarchy</a> &nbsp;
<a href="annotated.html">Data Structures</a> &nbsp;
<!--a href="functions.php">Data Fields</a -->
<a href="namespaces.html">Namespaces</a> &nbsp;
<a href="namespacemembers.html">Namespace Members</a> &nbsp;
<a href="files.html">File List</a> &nbsp;
<a href="globals.html">Globals</a>

</td></tr>
</table>

</td></tr>
<tr><td>

<!-- Generated by Doxygen 1.5.2 -->
<h1><a class="anchor" name="ControlFlow"></a><a name = "HeaderLink0"></a>Basic Control Flow</h1><h2><a class="anchor" name="CF_Introduction"></a><a name = "HeaderLink1"></a>Introduction</h2>
Because different platforms can have different main() entry points for applications, the Torque Engine main() function resides in the target OS platform library. In the case of Windows, this is in file engine/platformWin32/winWindow.cc, where both main() (for console apps) and WinMain() are defined. These in turn call run() which calls Game-&gt;main(int argc, const char **argv). Game is a global object pointer referencing an instance of the <a class="el" href="classGameInterface.html">GameInterface</a> class that can be overridden for specific game behavior.<p>
The Torque example program's main initialization occurs in engine/game/main.cc in <a class="el" href="classDemoGame.html#84e7cab78f6fef4a8255313e726c2777">DemoGame::main()</a>. This function initializes libraries, initializes game functions and then cycles in the main game loop until the program is terminated. The main loop basically calls platform library functions (<a class="el" href="platform_8h.html">engine/platform/platform.h</a>) to produce platform events, which then drive the main simulation.<p>
The main.cc file also has <a class="el" href="classDemoGame.html" title="Implementation of GameInterface for the demo app.">DemoGame</a> function overrides for some of the basic event procession functions: processMouseMoveEvent (which dispatches Windows mouse movements to the GUI), processInputEvent (which processes other input related events), and processTimeEvent which computes an elapsed time value based on the time scale setting of the simulation and then:<p>
<ol>
<li>
Processes time for server objects (<a class="el" href="game_8h.html#5fab6f44596449030422243fa6d36111" title="Processes the next cycle on the server. This function will only have an effect when...">serverProcess()</a> in engine/game/game.cc)<br>
 </li>
<li>
Checks for server network packet sends (serverNetProcess() in engine/game/netDispatch.cc)<br>
 </li>
<li>
Advances simulation event time (<a class="el" href="namespaceSim.html#f27cfdf9bd2d299dd6b6cdbb2e98b9b3">Sim::advanceTime()</a> in engine/console/simManager.cc)<br>
 </li>
<li>
Processes time for client objects (<a class="el" href="game_8h.html#a52db8cd9fe8c4ee28d75911759ade58" title="Processes the next frame, including gui, rendering, and tick interpolation.">clientProcess()</a> in engine/game/game.cc)<br>
 </li>
<li>
Checks for client network packet sends (clientNetProcess() in engine/game/netDispatch.cc)<br>
 </li>
<li>
Renders the current frame (GuiCanvas::render() in engine/gui/guiCanvas.cc)<br>
 </li>
<li>
Checks for network timeouts (dispatchCheckTimeouts() in engine/game/netDispatch.cc)<br>
 </li>
</ol>
<p>
Incoming UDP network packets are processed in <a class="el" href="classDemoGame.html#e8653fc4676f53a478a6fe440a1d97c3">DemoGame::processPacketReceiveEvent</a> (defined in engine/game/netDispatch.cc), and incoming TCP connection data or information is processed in DemoGame::processConnected*Event (defined in engine/game/TCPObject.cc).   </td>
</tr>
</table>

<br>
<br>
<hr width='50%' height=1 color=black>
<b>All Rights Reserved GarageGames.com, Inc. 1999-2005</b><br>
<small>Auto-magically Generated with <a href='http://www.doxygen.org/' target='_blank'>Doxygen</a></small>

</div>
<div class="footer">   <span class="copy">&copy; <a href="http://www.garagegames.com/">GarageGames.com</a></span>   <a href="../../../content_welcome.html" target="">Home</a>   <a href="#">Back to Top</a></div></body>

<!-- Mirrored from docs.garagegames.com/tge/official/content/documentation/Engine/Reference/ControlFlow.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Dec 2017 21:22:22 GMT -->
</html>
