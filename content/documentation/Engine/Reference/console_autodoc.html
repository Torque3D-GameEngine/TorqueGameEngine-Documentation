<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<!-- Mirrored from docs.garagegames.com/tge/official/content/documentation/Engine/Reference/console_autodoc.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Dec 2017 21:22:26 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<HEAD><SCRIPT SRC="../../../include/tutorial.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../../include/prototype.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../../include/scriptaculous.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../../include/glossaryLookUp.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../../include/referenceLookUp.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../../include/component.js" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT SRC="../../../include/componentContainer.html" LANGUAGE="JavaScript"></SCRIPT>
<SCRIPT>DocImagePath = "../../../index.html";</SCRIPT><link href="../../../include/tutorialStyles.css" rel="stylesheet" type="text/css" />
<link href="../../../include/tutorial.css" rel="stylesheet" type="text/css" />
<link href="../../../include/globalMainPageStyles.css" rel="stylesheet" type="text/css" />
<link href="../../../include/referenceThemeStyle.html" rel="stylesheet" type="text/css" />
<link href="../../../include/docTheme/theme.css" rel="stylesheet" type="text/css" />
<script>
   // this script chunk is to update the ToC to the current doc and expand it
   pageID = 585;
   parent.leftFrame.expandToItem('tree2', 'doc585');
   var element = parent.leftFrame.document.getElementById('doc585');
   if((element) && (element.className==parent.leftFrame.nodeClosedClass))
{
   element.className = parent.leftFrame.nodeOpenClass
}
;
</script><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Torque: Torque: Console Auto-Documentation</title>
<link href="torque.css" rel="stylesheet" type="text/css">
</head>
<BODY id = "BODYID" onLoad = "initComponent()"  bgcolor="#ffffff" text="#000000" link="#333399" alink="#9999ff" vlink="#000066">
<div align="center">

<table width=700 cellspacing=0 cellpadding=10 border=0 bgcolor="#ffffff" summary="">
<tr><td align='right'>
<a href='index.html'><img src="tge_banner.gif" alt="torque" align="left" border=0></a>
<b>Torque Game Engine Documentation</b><br>
<small>TGE Version 1.5.2</small>
</td></tr>

<tr><td>

<table width='100%' height=24 border=0 cellpadding=0 cellspacing=0>
<tr height=24><td nowrap class="menu" align='center'>

<a href="index.html">Torque Home</a> &nbsp;
<a href="hierarchy.html">Class Hierarchy</a> &nbsp;
<a href="annotated.html">Data Structures</a> &nbsp;
<!--a href="functions.php">Data Fields</a -->
<a href="namespaces.html">Namespaces</a> &nbsp;
<a href="namespacemembers.html">Namespace Members</a> &nbsp;
<a href="files.html">File List</a> &nbsp;
<a href="globals.html">Globals</a>

</td></tr>
</table>

</td></tr>
<tr><td>

<!-- Generated by Doxygen 1.5.2 -->
<h1><a class="anchor" name="console_autodoc"></a><a name = "HeaderLink0"></a>Console Auto-Documentation</h1><dl class="see" compact><dt><b>See also:</b></dt><dd>consoleDoc.cc</dd></dl>
<h2><a class="anchor" name="console_autodoc_using"></a><a name = "HeaderLink1"></a>Using Console Auto-Documentation</h2>
There are on the order of three hundred functions exposed to the script language through the console. It is therefore extremely important that they be documented, but due to their number, it is difficult to maintain a seperate reference document.<p>
Therefore, a simple documentation system has been built into the scripting engine. It was initially added by Mark Frohnmayer, and later enhanced by Ben Garney. The scripting engine supports grouping functions and methods, to help organize the several hundred functions, as well as associating a "usage string" with functions and groups.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>The results of a console doc dump will vary depending on when you run it. If you run it, for example, while in the game menu, it won't output any data for the script-defined classes which are defined for gameplay. To get comprehensive documentation, you may need to write a special script that will get all your classes loaded into the scripting engine.</dd></dl>
The console documentation system is designed to output a dump of the current state of the scripting engine in a format understandable by Doxygen. It does this by traversing the namespace/class hierarchy in memory at the time of the dump, and outputting psuedo-C++ code equivalent to this class hierarchy.<h3><a class="anchor" name="console_autodoc_using_script"></a><a name = "HeaderLink2"></a>For the Scripter...</h3>
Currently, there is no way to associate usage strings or other documentation with script code like you can with C++ code.<p>
You can get a list of all the methods and fields of an object from any object which inherits from <a class="el" href="classSimObject.html" title="Base class for objects involved in the simulation.">SimObject</a> (ie, every object), as well as the documentation on those objects by using the dump() method from the console:<p>
<div class="fragment"><pre class="fragment"> ==&gt;$foo = <span class="keyword">new</span> <a class="code" href="classSimObject.html" title="Base class for objects involved in the simulation.">SimObject</a>();
 ==&gt;$foo.dump();
 Member Fields:
 Tagged Fields:
 Methods:
   <span class="keyword">delete</span>() - obj.delete()
   dump() - obj.dump()
   getClassName() - obj.getClassName()
   getGroup() - obj.getGroup()
   getId() - obj.getId()
   getName() - obj.getName()
   getType() - obj.getType()
   save() - obj.save(fileName, &lt;selectedOnly&gt;)
   schedule() - <span class="keywordtype">object</span>.schedule(time, command, &lt;arg1...argN&gt;);
   setName() - obj.setName(newName)
</pre></div><p>
In the Torque example app, there are two functions defined in common\client\scriptDoc.cs which automate the process of dumping the documentation. They make use of the <a class="el" href="classConsoleLogger.html" title="A class designed to be used as a console consumer and log the data it receives to...">ConsoleLogger</a> object to output the documentation to a file, and look like this:<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>You may want to add this code, or code like it, to your project if you have rewritten the script code in common.</dd></dl>
<div class="fragment"><pre class="fragment"> <span class="comment">// Writes out all script functions to a file</span>
 function writeOutFunctions() {
    <span class="keyword">new</span> <a class="code" href="classConsoleLogger.html" title="A class designed to be used as a console consumer and log the data it receives to...">ConsoleLogger</a>( logger, <span class="stringliteral">"scriptFunctions.txt"</span>, <span class="keyword">false</span> );
    dumpConsoleFunctions();
    logger.delete();
 }
 
 <span class="comment">// Writes out all script classes to a file</span>
 function writeOutClasses() {
    <span class="keyword">new</span> <a class="code" href="classConsoleLogger.html" title="A class designed to be used as a console consumer and log the data it receives to...">ConsoleLogger</a>( logger, <span class="stringliteral">"scriptClasses.txt"</span>, <span class="keyword">false</span> );
    dumpConsoleClasses();
    logger.delete();
 }
</pre></div><h3><a class="anchor" name="console_autodoc_using_coder"></a><a name = "HeaderLink3"></a>For the C++ Coder...</h3>
<dl class="note" compact><dt><b>Note:</b></dt><dd><b>It is of the utmost important that you keep your usage strings up to date!</b> Usage strings are the only way that a scripter has to know how to use the methods, functions, and variables you expose. Misleading, missing, or out of date documentation will make their lives much harder - and yours, too, because you'll have to keep explaining things to them! So make everyone's lives easier - keep your usage strings clear, concise, and up to date.</dd></dl>
There are four types of items which can be documented using the autodocumentation system:<ul>
<li><b>Fields</b>, which are defined using the addField() calls. They are documented by passing a string to the usage parameter.</li><li><b>Field groups</b>, which are defined using the beginGroup() and endGroup() calls. They are documented by passing a descriptive string to the usage parameter.</li><li><b>Method groups</b>, which are defined using <a class="el" href="namespaceCon.html#e68f6764ee210a81e1f0e4fedadf6574">beginCommandGroup()</a>, <a class="el" href="namespaceCon.html#6db0c391a74983640f0d43dc9df9bbff">endCommandGroup()</a>, <a class="el" href="console_8h.html#bc3faab9e9adda3021c504e1b4c7bcb2">ConsoleMethodGroupEnd()</a>, <a class="el" href="console_8h.html#7a117e28c1bc2697a0a4ad1593059a6a">ConsoleMethodGroupBegin()</a>, <a class="el" href="console_8h.html#4e377eeb82700cb517a50360e232eaf7">ConsoleFunctionGroupEnd()</a>, and <a class="el" href="console_8h.html#d27ea1a98673d56019a76094df7f02e0">ConsoleFunctionGroupBegin()</a>.</li><li><b>Methods and functions</b>, which are defined using either <a class="el" href="namespaceCon.html#f1ad2e34a3ce598ff9ef4899bdb15ebb" title="Register a C++ function with the console making it a global function callable from...">SimObject::addCommand()</a>, the <a class="el" href="console_8h.html#895960cc654a25d5f612e0154dc0d134">ConsoleMethod()</a> macro, or the <a class="el" href="console_8h.html#8a7e9e53fd6537ae26c8ed12abdfacf4">ConsoleFunction()</a> macro. Methods and functions are special in that the usage strings should be in a specific format, so that parameter information can be extracted from them and placed into the Doxygen output.</li></ul>
<p>
You can use standard Doxygen commands in your comments, to make the documentation clearer. Of particular use are @returns, @param, @note, and @deprecated.<p>
<b>Examples using global definitions.</b><p>
<div class="fragment"><pre class="fragment">    <span class="comment">// Example of using Doxygen commands.</span>
    <a class="code" href="console_8h.html#8a7e9e53fd6537ae26c8ed12abdfacf4">ConsoleFunction</a>(alxGetWaveLen, <a class="code" href="types_8h.html#57a2244776e01ad620c556de58eb7880" title="Compiler independent Signed 32-bit integer.">S32</a>, 2, 2, <span class="stringliteral">"(string filename)"</span>
                    <span class="stringliteral">"Get length of a wave file\n\n"</span>
                    <span class="stringliteral">"@param filename File to determine length of.\n"</span>
                    <span class="stringliteral">"@returns Length in milliseconds."</span>)

    <span class="comment">// A function group...</span>
    <a class="code" href="console_8h.html#d27ea1a98673d56019a76094df7f02e0">ConsoleFunctionGroupBegin</a>(Example, "This is an example group! Notice that the <a class="code" href="GLCoreFunc_8h.html#b96eeaa41353f2fc584ee24f39c30968">name</a> <a class="code" href="types_8visualc_8h.html#ad3a54ef5fb260160ec7493483246022" title="Hack to work around Microsoft VC's non-C++ compliance on variable scoping.">for</a> the group"
                                       "must be a valid identifier, due to limitations in the C preprocessor.");

    <span class="comment">// ConsoleFunction definitions go here.</span>

    <a class="code" href="console_8h.html#4e377eeb82700cb517a50360e232eaf7">ConsoleFunctionGroupEnd</a>(Example);

    <span class="comment">// You can do similar things with methods...</span>
    <a class="code" href="console_8h.html#7a117e28c1bc2697a0a4ad1593059a6a">ConsoleMethodGroupBegin</a>(<a class="code" href="classSimSet.html" title="A set of SimObjects.">SimSet</a>, UsefulFuncs, "Here are some useful functions involving a SimSet.");
    <a class="code" href="console_8h.html#895960cc654a25d5f612e0154dc0d134">ConsoleMethod</a>(SimSet, listObjects, <span class="keywordtype">void</span>, 2, 2, "set.listObjects();")
    <a class="code" href="console_8h.html#bc3faab9e9adda3021c504e1b4c7bcb2">ConsoleMethodGroupEnd</a>(SimSet, UsefulFuncs, "Here are some more useful functions involving a SimSet.");
</pre></div><p>
<b>Examples using addField</b><p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Using addCommand is strongly deprecated.</dd></dl>
<div class="fragment"><pre class="fragment">   <span class="comment">// Example of a field group.</span>
   addGroup( <span class="stringliteral">"Logging"</span>, <span class="stringliteral">"Things relating to logging."</span> );
   addField( <span class="stringliteral">"level"</span>,   TypeEnum,     <a class="code" href="consoleTypes_8h.html#660d8e8336a58d3d6950e2a638583056">Offset</a>( mLevel,    <a class="code" href="classConsoleLogger.html" title="A class designed to be used as a console consumer and log the data it receives to...">ConsoleLogger</a> ), 1, &amp;gLogLevelTable );
   endGroup( <span class="stringliteral">"Logging"</span> );
</pre></div><h2><a class="anchor" name="console_autodoc_makingdocs"></a><a name = "HeaderLink4"></a>How to Generate Console Docs</h2>
Console docs can be generated by running the dumpConsoleFunctions() and dumpConsoleClasses(), then running the output through Doxygen. There is an example Doxygen configuration file to do this in HEAD, at doc\doxygen\html\script_doxygen.html.cfg. Doxygen will parse the psuedo-C++ generated by the console doc code and produce a class hierarchy and documentation of the global namespace. You may need to tweak the paths in the configuration file slightly to reflect your individual setup.<h2><a class="anchor" name="console_autodoc_internals"></a><a name = "HeaderLink5"></a>Console Auto-Documentation Internals</h2>
The consoleDoc system works by inserting "hidden" entries in <a class="el" href="classNamespace.html">Namespace</a> and <a class="el" href="classAbstractClassRep.html" title="Core functionality for class manipulation.">AbstractClassRep</a>; these hidden entries are assigned special type IDs so that they aren't touched by the standard name resolution code. At documentation creation time, the dumpConsole functions iterate through the <a class="el" href="classNamespace.html">Namespace</a> hierarchy and the <a class="el" href="classAbstractClassRep.html" title="Core functionality for class manipulation.">AbstractClassRep</a> data and extract this "hidden" information, outputting it in a Doxygen-compatible format.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>You can customize the output of the console documentation system by modifying these functions:<ul>
<li>printClassHeader()</li><li>printClassMethod()</li><li>printGroupStart()</li><li>printClassMember()</li><li>printGroupEnd()</li><li>printClassFooter()</li></ul>
<p>
There was once support for 'overloaded' script functions; ie, script functions with multiple usage strings. Certain functions in the audio library used this. However, it was deemed too complex, and removed from the scripting engine. There are still some latent traces of it, however. </dd></dl>
  </td>
</tr>
</table>

<br>
<br>
<hr width='50%' height=1 color=black>
<b>All Rights Reserved GarageGames.com, Inc. 1999-2005</b><br>
<small>Auto-magically Generated with <a href='http://www.doxygen.org/' target='_blank'>Doxygen</a></small>

</div>
<div class="footer">   <span class="copy">&copy; <a href="http://www.garagegames.com/">GarageGames.com</a></span>   <a href="../../../content_welcome.html" target="">Home</a>   <a href="#">Back to Top</a></div></body>

<!-- Mirrored from docs.garagegames.com/tge/official/content/documentation/Engine/Reference/console_autodoc.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 06 Dec 2017 21:22:26 GMT -->
</html>
